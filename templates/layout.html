<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> 
    <title>{{ escape(handler.settings["blog_title"]) }}</title>
    <link rel="stylesheet" href="/static/blog.css" type="text/css"/>
    <link rel="alternate" href="/feed" type="application/atom+xml" title="{{ escape(handler.settings["blog_title"]) }}"/>
    {% block head %}{% end %}
  </head>
  <body>
    <div id="wrapper">
      <div id="header">
        <div style="float:right">
          {% if current_user %}
            {{ escape(current_user.nickname()) }}
            <a href="{{ escape(users.create_logout_url(request.uri)) }}">{{ _("Sign out") }}</a>
          {% else %}
            {{ _('<a href="%(url)s">Sign in</a>') % {"url": escape(users.create_login_url(request.uri))} }}
          {% end %}
        </div>
        <h1><a href="/">{{ escape(handler.settings["blog_title"]) }}</a></h1>
      </div>
      <div id="content">{% block content %}{% end %}</div>
      <div class="visualclear"><!-- --></div>
      <div id="footer">
        {% block footer %}
          <p><small>Except where otherwise noted, content on this site is licensed under a <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0</a> License</small></p>
          <p>Powered by
            <a href="http://www.python.org/">Python</a>,
            <a href="http://code.google.com/appengine">Google App Engine</a> and
            <a href="http://github.com/facebook/tornado">Tornado</a>.
          </p>
          <p>
            Â©2010 Kaizhao Zhang - <a href="/about">About</a>
          </p>
        {% end %}
      </div>
    </div>
    {% block bottom %}{% end %}
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
    var pageTracker = _gat._getTracker("UA-15975568-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
  </body>
</html>
